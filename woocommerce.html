
<script type="text/javascript">
    (function() {
        RED.nodes.registerType('woocommerce-config',{
            category: 'config',
            defaults: {
                siteURL: {value:""},
                consumerKey: {value:""},
                consumerSecret: {value:""}
            },
            label: function() 
                {return this.siteURL;; }
        });
    })();
    </script>

<script type="text/x-red" data-template-name="woocommerce-config">
    <div id="node-config-woocommerce-api">
        <div class="form-row">
            <p style="margin-top: 10px;"><b>1.</b> <span data-i18n="woocommerce.register"></span> </p>
        </div>
        <div class="form-row">
            <p style="margin-top: 10px;"><b>2.</b> <span data-i18n="woocommerce.label.copy"></span>:</p>
        </div>
        <div class="form-row">
            <label style="margin-left: 10px; margin-right: -10px;" for="node-config-input-siteURL"><i class="fa fa-link"></i> <span data-i18n="woocommerce.label.url"></span></label>
            <input type="text" id="node-config-input-siteURL">
        </div>
        <div class="form-row">
            <label style="margin-left: 10px; margin-right: -10px;" for="node-config-input-consumerKey"><i class="fa fa-key"></i> <span data-i18n="woocommerce.label.key"></span></label>
            <input type="text" id="node-config-input-consumerKey">
        </div>
        <div class="form-row">
            <label style="margin-left: 10px; margin-right: -10px;" for="node-config-input-consumerSecret"><i class="fa fa-user-secret"></i> <span data-i18n="woocommerce.label.secret"></span></label>
            <input type="text" id="node-config-input-consumerSecret">
        </div>

    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('woocommerce',{
        category: 'e-commerce',
        color: '#C0DEED',
        defaults: {
            wooAPI: {type:"woocommerce-config", required:true},
            method: {value:""},
            podSelector: {value:""},
        },
        inputs:1,
        outputs:1,
        icon: "font-awesome/fa-shopping-cart",
        label: function() {
            return this.name||"woocommerce"
        },
        oneditprepare: function() {  
            $("#node-input-example4").typedInput({
            types: [
            {
                value: "method",
                options: [
                    { value: "GET", label: "GET"},
                    { value: "POST", label: "POST"},
                    { value: "PUT", label: "PUT"},
                ]
            }
        ]
})
        }
    });
</script>

<script type="text/x-red" data-template-name="woocommerce">
    <div class="form-row">
        <label for="node-input-wooAPI">API Configuration</label>
        <input type="text" id="node-input-wooAPI">
    </div>
    <div class="form-row">
        <label for="node-input-pod"><i class="fa fa-superpowers"></i> <span data-i18n="sensibo.label.podname"></span></label>
        <input type="text" id="node-input-pod" style="width:60%;">
        <a id="node-lookup-pod" class="btn"><i id="node-lookup-pod-icon" class="fa fa-search"></i></a>
    </div>
    <div class="form-row">
        <label for="node-input-method"><i class="icon-tag"></i><span data-i18n="woocommerce.label.method"></label>
        <select name="http-method" id="node-input-method" placeholder="Method">
            <option value="GET">GET</option>
            <option value="POST">POST</option>
            <option value="PUT">PUT</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>


<script type="text/x-red" data-help-name="woocommerce">
    <p>Connects to an instance of the Woocommerce API</p>
    <h3>Configuration</h3>
    <p>An API needs to be obtained from Sensibo</p>

    <h3>Properties</h3>
    <dl class="message-properties">
    <dt>pod <span class="property-type">selector</span></dt>
    <dd>The pod to get the measurements from.  Click on magnifying glass to get list of available pods from sensibo.  This may take a moment to resolve from the server</dd>

    <h3>Inputs</h3>
    <dl class="message-properties">
        <dt>payload
            <span class="property-type">string | buffer</span>
        </dt>
        <dd> Payload is not currently assigned to a function</dd>
        <dt class="optional">msg.on<span class="property-type">string/binary</span></dt>
        <dd> Turn the air conditioning unit on and off. true/false.  Bug fixed so both types will accepted</dd>
        <dt class="optional">msg.swing<span class="property-type">string</span></dt>
        <dd> Sets the swing mode.</dd>
        <dt class="optional">msg.mode<span class="property-type">string</span></dt>
        <dd> Set the operating mode: cool/heat/fan/dry/auto'</dd>
        <dt class="optional">msg.fanlevel<span class="property-type">string</span></dt>
        <dd> Set the fan level: quiet/low/medium low/medium/medium high/high/auto.  Note:  medium high/low may not be supported on all units</dd>
        <dt class="optional">msg.targetTemperature<span class="property-type">number</span></dt>
        <dd> Sets the target temperature to reach.'</dd>
        


    </dl>

    <h3>Outputs</h3>
    <ol class="node-ports">
        <li>Standard output
            <dl class="message-properties">
                <dt>payload <span class="property-type">object</span></dt>
                <dd>Status of the request to Sensibo</dd>
            </dl>
        </li>
        <li>Standard error
            <dl class="message-properties">
                <dt>payload <span class="property-type">string</span></dt>
                <dd>Will return the error received from the Sensibo server</dd>
            </dl>
        </li>
    </ol>
</script>